"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[868],{3073:(e,l,s)=>{s.d(l,{A:()=>o});s(5043);var a=s(426),t=s(7021),n=s(6191),i=s(2692),r=s(7154),c=s(3851),d=s(579);const o=function(e){let{title:l,children:s,topMargin:o,EyeIcon:m,TopSideButtons:u,isVisible:h,onEyeChange:x}=e;return(0,d.jsxs)("div",{className:"card w-full p-3 md:p-6 bg-base-100 shadow-xl "+(o||"mt-4"),children:[(0,d.jsxs)(c.A,{styleClass:u?"inline-block":"",children:[l,u&&(0,d.jsx)(t.Ay,{type:"primary",className:"inline-block float-right",onClick:async()=>{const e=Math.random().toString(36).substr(2,40);console.log("Creating new component with unique string:",e);try{return(await r.A.post("/create-component",{uniqueString:e})).data.success?(0,d.jsx)(a.A,{message:"Component created successfully!",type:"success",showIcon:!0}):(0,d.jsx)(a.A,{message:"Failed to create component",type:"error",showIcon:!0})}catch(l){console.error("Error creating component",l)}},children:u}),m&&(0,d.jsx)("button",{className:"float-right pr-5",onClick:x,children:h?(0,d.jsx)(n.A,{}):(0,d.jsx)(i.A,{})})]}),(0,d.jsx)("div",{className:"divider mt-2"}),(h||m)&&(0,d.jsx)("div",{className:"h-full w-full pb-4 bg-base-100",children:s})]})}},3851:(e,l,s)=>{s.d(l,{A:()=>t});var a=s(579);const t=function(e){let{styleClass:l,children:s}=e;return(0,a.jsx)("div",{className:"text-xl font-semibold ".concat(l),children:s})}},2868:(e,l,s)=>{s.r(l),s.d(l,{default:()=>D});var a=s(5043),t=s(9456),n=s(8379),i=s(4117),r=s(9458),c=s(5589),d=s(7615),o=s(5389),m=s(446),u=s.n(m),h=s(3073),x=s(6178),p=s.n(x),f=s(3567),v=s(7490),j=s(7407),b=s(1966),g=s(3727),N=s(1210),y=s(579);const{Option:w}=c.A,A=["blue","red","green","pink","violet","yellow"],k=["0 AM","1 AM","2 AM","3 AM","4 AM","5 AM","6 AM","7 AM","8 AM","9 AM","10 AM","11 AM","12 AM","1 PM","2 PM","3 PM","4 PM","5 PM","6 PM","7 PM","8 PM","9 PM","10 PM","11 PM"],M=e=>{let{item:l,editEvent:s,deleteEvent:t}=e;const[n,i]=(0,a.useState)(!1),r=()=>{i(!1)};return(0,y.jsx)(f.A,{trigger:"click",open:n,onOpenChange:e=>{i(e)},content:(0,y.jsxs)("div",{className:"w-80",children:[(0,y.jsxs)("div",{className:"text-right",children:[(0,y.jsx)("div",{className:"inline-block mx-1",children:(0,y.jsx)(j.A,{className:"cursor-pointer",onClick:()=>{s(l),r()}})}),(0,y.jsx)("div",{className:"inline-block mx-1",children:(0,y.jsx)(b.A,{className:"cursor-pointer",onClick:()=>{t(l._id),r()}})}),(0,y.jsx)("div",{className:"inline-block mx-1",children:(0,y.jsx)(g.A,{className:"cursor-pointer",onClick:r})})]}),(0,y.jsx)("div",{className:"font-bold mb-2 break-all",children:(0,y.jsx)(v.A,{color:A[l.type],text:l.title})}),(0,y.jsx)("p",{className:"text-xs my-2 break-all ml-4",children:p()(l.startTime).format("YYYY-MM-DD HH:mm")}),(0,y.jsxs)("p",{className:"my-2 break-all",children:[(0,y.jsx)(N.A,{className:"mr-2"}),l.note]})]}),children:(0,y.jsx)("div",{className:"py-0.5",children:(0,y.jsx)("div",{className:"bg-".concat(A[l.type],"-500 text-white px-2 py-0.5 rounded text-xs whitespace-nowrap overflow-hidden text-ellipsis cursor-pointer"),children:(0,y.jsx)("p",{className:"font-bold",children:l.title})})})})};const C=function(e){let{calendarEvents:l,addEvent:s,editEvent:t,deleteEvent:n}=e;const i=p()().startOf("day"),[r,o]=(0,a.useState)([]),[m,h]=(0,a.useState)(p()(i));(0,a.useEffect)((()=>{o(l)}),[l]);const x=()=>{let e=p()(m).startOf("week"),l=p()(m).endOf("week");for(var s=[],a=e;a<=l;)s.push(a.toDate()),a=a.clone().add(1,"d");return s},f=e=>r.filter((l=>p()(e).isSame(p()(l.startTime),"day"))),v=e=>r.filter((l=>p()(e).isSame(p()(l.startTime),"day")&&p()(e).isSame(p()(l.startTime),"hour"))),j=e=>p()(e).month()!=p()(m).month(),[b,g]=(0,a.useState)("month");return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"w-full bg-base-100 rounded-lg",children:[(0,y.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,y.jsxs)(c.A,{value:b,onChange:g,children:[(0,y.jsx)(w,{value:"week",children:"Week"}),(0,y.jsx)(w,{value:"month",children:"Month"})]}),(0,y.jsx)(d.A,{picker:b,value:u()(m),onChange:e=>{h(e.format())},allowClear:!1})]}),(0,y.jsx)("div",{className:"ml-12 grid grid-cols-7 place-items-center my-2",children:["sun","mon","tue","wed","thu","fri","sat"].map(((e,l)=>(0,y.jsx)("div",{className:"text-xs capitalize",children:e},l)))}),"month"==b?(0,y.jsx)("div",{className:"grid grid-cols-7 mt-1 place-items-stretch",children:(()=>{let e=p()(m).startOf("month").startOf("week"),l=p()(m).endOf("month").endOf("week");for(var s=[],a=e;a<=l;)s.push(a.toDate()),a=a.clone().add(1,"d");return s})().map(((e,l)=>{return(0,y.jsxs)("div",{className:"flex flex-col border border-solid border-base-300 w-full h-32 ".concat((a=e,p()(a).isSame(p()(),"day")&&"bg-blue-100 dark:bg-base-200 dark:text-white")," ").concat(j(e)&&"text-slate-400 dark:text-slate-600"),children:[(0,y.jsx)("div",{className:"text-center py-0.5",children:p()(e).format("D")}),(0,y.jsx)("div",{className:"px-0.5 overflow-y-scroll",children:f(e).map(((e,l)=>(0,y.jsx)(M,{item:e,editEvent:t,deleteEvent:n},l)))}),(0,y.jsx)("div",{className:"py-0.5 grow text-xs flex justify-center items-end text-[#8884] cursor-pointer",onClick:()=>s(e),children:"+"})]},l);var a}))}):(0,y.jsxs)("div",{className:"flex flex-wrap",children:[(0,y.jsx)("div",{className:"w-full grid grid-cols-7 ml-10",children:x().map(((e,l)=>(0,y.jsx)("div",{className:"text-center",children:p()(e).format("D")},l)))}),(0,y.jsx)("div",{className:"w-full",children:k.map(((e,l)=>(0,y.jsxs)("div",{className:"flex h-16 border-t last:border-b border-dotted border-base-300",children:[(0,y.jsx)("div",{className:"w-10 flex-none",children:(0,y.jsx)("p",{className:"text-xs",children:e})}),(0,y.jsx)("div",{className:"w-full grid grid-cols-7",children:x().map(((e,a)=>{const i=p()(e).clone().add(l,"h");return(0,y.jsxs)("div",{className:"border-l last:border-r border-base-300 flex flex-col h-16",children:[(0,y.jsx)("div",{className:"px-0.5 overflow-y-scroll",children:v(i).map(((e,l)=>(0,y.jsx)(M,{item:e,editEvent:t,deleteEvent:n},l)))}),(0,y.jsx)("div",{className:"pb-0.5 grow text-xs flex justify-center items-end text-[#8884] cursor-pointer",onClick:()=>s(i),children:"+"})]},a)}))})]},l)))})]})]})})};var E=s(8310);const _=[{value:0,label:"other"},{value:1,label:"clinic_time"},{value:2,label:"operation_time"},{value:3,label:"consultation"},{value:4,label:"meeting"},{value:5,label:"birthday"}],T=[{value:0,label:"none"},{value:300,label:"5min"},{value:900,label:"15min"},{value:1800,label:"30min"},{value:3600,label:"1h"},{value:10800,label:"3h"},{value:21600,label:"6h"},{value:43200,label:"12h"},{value:86400,label:"1day"}];const S=function(){const{t:e}=(0,i.Bd)(),[l,s]=r.A.useModal(),a=(0,t.wA)(),{scheduleList:m}=(0,t.d4)((e=>e.header));return(0,y.jsxs)(y.Fragment,{children:[s,(0,y.jsx)(h.A,{title:e("calendar"),children:(0,y.jsx)(C,{calendarEvents:m,addEvent:s=>{let t=s,i=0,r=0,h="",x="";l.confirm({title:e("new_schedule"),okType:"default",okText:e("ok"),cancelText:e("cancel"),mask:!1,content:(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:"my-2",children:[e("type"),":"]}),(0,y.jsx)(c.A,{className:"w-full",defaultValue:i,options:_.map((l=>({value:l.value,label:e(l.label)}))),onChange:e=>i=e}),(0,y.jsxs)("p",{className:"my-2",children:[e("notifySetting"),":"]}),(0,y.jsx)(c.A,{className:"w-full",defaultValue:r,options:T.map((l=>({value:l.value,label:e(l.label)}))),onChange:e=>r=e}),(0,y.jsxs)("p",{className:"my-2",children:[e("datetime"),":"]}),(0,y.jsx)(d.A,{className:"w-full",showTime:!0,defaultValue:u()(t),format:"MM/DD/YYYY HH:mm",onChange:e=>t=e,allowClear:!1}),(0,y.jsxs)("p",{className:"my-2",children:[e("title"),":"]}),(0,y.jsx)(o.A,{onChange:e=>h=e.target.value}),(0,y.jsxs)("p",{className:"my-2",children:[e("note"),":"]}),(0,y.jsx)(o.A.TextArea,{maxLength:1e3,className:"max-h-48",onChange:e=>x=e.target.value})]}),onOk:l=>{0!=h.trim().length&&0!=x.trim().length?E.A.post("/schedule",{type:i,startTime:t,title:h,note:x,notifyBefore:r},(e=>{a((0,n.qR)([...m,e.result])),l()})):a((0,n.Ds)({message:e("please_input_schedule_info"),status:0}))}})},editEvent:s=>{let{_id:t,startTime:i,type:r,title:h,note:x,notifyBefore:p}=s;l.confirm({title:e("edit_schedule"),okType:"default",okText:e("ok"),cancelText:e("cancel"),mask:!1,content:(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:"my-2",children:[e("type"),":"]}),(0,y.jsx)(c.A,{className:"w-full",defaultValue:r,options:_.map((l=>({value:l.value,label:e(l.label)}))),onChange:e=>r=e}),(0,y.jsxs)("p",{className:"my-2",children:[e("notifySetting"),":"]}),(0,y.jsx)(c.A,{className:"w-full",defaultValue:p,options:T.map((l=>({value:l.value,label:e(l.label)}))),onChange:e=>p=e}),(0,y.jsxs)("p",{className:"my-2",children:[e("datetime"),":"]}),(0,y.jsx)(d.A,{className:"w-full",showTime:!0,defaultValue:u()(i),format:"MM/DD/YYYY HH:mm",onChange:e=>i=e,allowClear:!1}),(0,y.jsxs)("p",{className:"my-2",children:[e("title"),":"]}),(0,y.jsx)(o.A,{defaultValue:h,onChange:e=>h=e.target.value}),(0,y.jsxs)("p",{className:"my-2",children:[e("note"),":"]}),(0,y.jsx)(o.A.TextArea,{defaultValue:x,maxLength:1e3,className:"max-h-48",onChange:e=>x=e.target.value})]}),onOk:l=>{0!=h.trim().length&&0!=x.trim().length?E.A.put("/schedule/".concat(t),{type:r,startTime:i,title:h,note:x,notifyBefore:p},(e=>{a((0,n.qR)(m.map((l=>l._id==t?e.result:l)))),l()})):a((0,n.Ds)({message:e("please_input_schedule_info"),status:0}))}})},deleteEvent:e=>{E.A.delete("/schedule/".concat(e),(()=>{a((0,n.qR)(m.filter((l=>l._id!=e))))}))}})})]})};const D=function(){const e=(0,t.wA)();return(0,a.useEffect)((()=>{e((0,n.wE)({title:"calendar"}))}),[]),(0,y.jsx)(S,{})}}}]);
//# sourceMappingURL=868.780b0bf9.chunk.js.map